为了能在多个文件中使用同一个类，要确保各个文件中类的定义一致。类通常被定义在头文件中，且头文件的文件名应该与类的名字一样。例如，库类型string在名为string.h的头文件中。

头文件通常包含那些**只能被定义一次的实体**，比如类、const和constexpr变量等。

头文件也经常需要用到其他头文件的功能，因此一般也会包含其他头文件。

## include

#include 指示符读入指定文件的内容 它有两种格式

``` c++
#include <some_file.h> 
#include "my_file.h" 
```

### 标准头文件

如果文件名用**尖括号 `< > `**括起来，表明这个文件是一个**工程或标准头文件**，查找过程会检查**预定义的目录**

我们可以通过设置搜索路径环境变量或命令行选项来修改这些目录，在不同的平台上这些方法大不相同，建议你请教同事或查阅编译器手册以获得更进一步的信息 。

### 自定义头文件

如果文件名用一对**引号`""`**括起来，则表明该文件是**用户提供的头文件**，查找该文件时将从**当前文件目录**开始

## 防止重复包含

 被包含的文件还可以含有#include 指示符，由于嵌套包含文件的原因，一个头文件可能会被多次包含在一个源文件中，条件指示符可防止这种头文件的重复处理，例如

``` c++
#ifndef BOOKSTORE_H 
#define BOOKSTORE_H 
/* Bookstore.h 的内容 */ 
#endif 
```

 条件指示符#ifndef 检查 BOOKSTORE_H 在前面是否已经被定义，这里 BOOKSTORE_H 是一个**预编译器常量** ，习惯上预编译器常量往往被写成大写字母 。如果 BOOKSTORE_H 在前面没有被定义，则条件指示符的值为真，是从#ifndef 到#endif 之间的所有语句都被包含进来进行处理。相反，如果#ifndef 指示符的值为假，则它与#endif 指示符之间的行将被忽略。

 只要不存在两个**”必须包含的头文件要检查一个同名的预处理器常量“**这样的情形，这个策略就能够很好地运作。

## 条件编译

`#ifdef`指示符常被用来判断一个预处理器常量是否已被定义，以便有条件地包含程序代码

``` c++
#ifdef DEBUG 
// do something
#else
// do other thing
 #endif 
```

根据是否定义了`DEBUG`，预处理后实际传给编译器也会不同

### 编译开关

-   在编译程序时可以使用`-D`选项，在之后的参数写上预处理器常量的名字
-   文件中用`#define`指示符定义预处理器常量

### 默认预处理器常量

编译C++程序时，编译器自动定义了一个预处理器常量`__cplusplus`，可以用于判断该程序是否是C++程序。而编译C程序时则是`__STDC__`。这两者不会同时被定义

`__LINE__`和`__FILE__`分别表示文件已经被编译的行数和正在被编译的文件的名字

```c++
if ( element_count == 0 ) 
cerr << "Error: " << __FILE__ 
 << " : line " << __LINE__ 
 << "element_count must be non-zero.\n";
```

