局部变量的值总是存储在栈（stack）中（在更高版本c#中的特定情况下，可能在堆中），实例变量（比如作为字段、容器内的元素等）的值总是存储在实例本身存储的地方。引用类型实例（对象）总是存储在堆（heap）中，静态变量也是。

## struct、class

**结构体实例变量是值类型，类的实例变量是引用类型。**

误区：引用类型存储在堆上，值类型存储在栈上

值类型存储在栈说法错误，如果值类型作为字段、容器，则总是存储在实例本身存储的地方。如果作为局部变量，则是在栈上。

误区：结构是轻量级的类

性能上，结构体不一定比类要快。

以下比较中，都是指结构体或类的实例，而不是作为字段

|                              | 结构体                         | 类                                           |
| ---------------------------- | ------------------------------ | -------------------------------------------- |
| 传参、赋值、返回值等拷贝开销 | 全部数据                       | 4或8byte的指针（保存地址）                   |
| 额外信息                     | 无，自身以及字段就可以表示类型 | 需要类型对象指针（指向类型模板）、同步块索引 |
| 垃圾回收                     | 不需要                         | 需要                                         |



